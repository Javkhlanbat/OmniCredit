<!DOCTYPE html>
<html lang="mn">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OmniCredit — Бүртгүүлэх</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../css/variables.css">
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/navigation.css">
  <link rel="stylesheet" href="../css/buttons.css">
  <link rel="stylesheet" href="../css/cards.css">
  <link rel="stylesheet" href="../css/forms.css">

  <style>
    .auth-container {
      min-height: 80vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
    }

    .auth-card {
      max-width: 500px;
      width: 100%;
    }

    .auth-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .auth-header h1 {
      background: var(--gradient-peachy);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .divider {
      text-align: center;
      margin: 24px 0;
      position: relative;
    }

    .divider::before {
      content: '';
      position: absolute;
      left: 0;
      right: 0;
      top: 50%;
      height: 1px;
      background: var(--line);
    }

    .divider span {
      background: var(--card);
      padding: 0 16px;
      position: relative;
      color: var(--text-muted);
      font-size: 14px;
    }

    .social-login {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
    }

    .social-btn {
      flex: 1;
      padding: 14px;
      border: 2px solid var(--line);
      border-radius: var(--radius);
      background: white;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .social-btn:hover {
      border-color: var(--primary);
      background: var(--card-hover);
    }

    .auth-footer {
      text-align: center;
      margin-top: 24px;
      color: var(--text-muted);
      font-size: 14px;
    }

    .auth-footer a {
      color: var(--primary);
      font-weight: 600;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    @media (max-width: 768px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }

    .password-strength {
      height: 4px;
      background: var(--line);
      border-radius: 999px;
      margin-top: 8px;
      overflow: hidden;
    }

    .password-strength-bar {
      height: 100%;
      width: 0%;
      transition: var(--transition);
      border-radius: 999px;
    }

    .password-strength-bar.weak {
      width: 33%;
      background: #ff6b6b;
    }

    .password-strength-bar.medium {
      width: 66%;
      background: #ffa500;
    }

    .password-strength-bar.strong {
      width: 100%;
      background: #10b981;
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Navigation -->
    <nav class="nav">
      <div class="brand">OmniCredit</div>
      <div class="nav-links">
        <a href="index.html">Нүүр</a>
        <a href="zeelhuudas.html">Зээлийн тооцоолуур</a>
        <a href="aboutus.html">Бидний тухай</a>
        <a href="FAQ.html">Түгээмэл асуулт</a>
      </div>
      <div class="auth-buttons">
        <a href="login.html" class="btn btn-ghost btn-sm">Нэвтрэх</a>
      </div>
      <button class="mobile-menu-toggle">☰</button>
    </nav>

    <!-- Auth Container -->
    <div class="auth-container">
      <div class="auth-card card">
        <div class="card-body" style="padding: 48px 40px;">
          <div class="auth-header">
            <h1>Бүртгүүлэх</h1>
            <p style="color: var(--text-muted);">Шинэ данс үүсгэх</p>
          </div>

          <!-- Social Login -->
          <div class="social-login">
            <button class="social-btn">
              <span>📘</span>
              Facebook
            </button>
            <button class="social-btn">
              <span>🔍</span>
              Google
            </button>
          </div>

          <div class="divider">
            <span>Эсвэл</span>
          </div>

          <!-- Register Form -->
          <form id="registerForm">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label required">Овог</label>
                <input type="text" class="form-control" placeholder="Овог" required>
              </div>
              <div class="form-group">
                <label class="form-label required">Нэр</label>
                <input type="text" class="form-control" placeholder="Нэр" required>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label required">Имэйл хаяг</label>
              <input type="email" id="email" class="form-control" placeholder="name@example.com" required>
              <div class="form-feedback invalid" id="emailError" style="display: none;"></div>
            </div>

            <div class="form-group">
              <label class="form-label required">Утасны дугаар</label>
              <input type="tel" id="phone" class="form-control" placeholder="99119911" required>
              <span class="form-text">8 оронтой дугаар оруулна уу</span>
            </div>

            <div class="form-group">
              <label class="form-label required">Нууц үг</label>
              <input type="password" id="password" class="form-control" placeholder="••••••••" required>
              <div class="password-strength">
                <div class="password-strength-bar" id="strengthBar"></div>
              </div>
              <span class="form-text" id="strengthText">Доод тал нь 8 тэмдэгт</span>
            </div>

            <div class="form-group">
              <label class="form-label required">Нууц үг давтах</label>
              <input type="password" id="confirmPassword" class="form-control" placeholder="••••••••" required>
              <div class="form-feedback invalid" id="passwordError" style="display: none;"></div>
            </div>

            <div class="form-check" style="margin-bottom: 24px;">
              <input type="checkbox" id="terms" required>
              <label for="terms">
                <a href="#" style="text-decoration: underline;">Үйлчилгээний нөхцөл</a> болон
                <a href="#" style="text-decoration: underline;">Нууцлалын бодлого</a>-той танилцаж зөвшөөрч байна
              </label>
            </div>

            <button type="submit" class="btn btn-primary btn-block btn-lg">
              Бүртгүүлэх
            </button>
          </form>

          <div class="auth-footer">
            Аль хэдийн бүртгэлтэй юу? <a href="login.html">Нэвтрэх</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="../js/utils.js"></script>
  <script src="../js/navigation.js"></script>
  <script>
    // Password strength checker
    const password = document.getElementById('password');
    const strengthBar = document.getElementById('strengthBar');
    const strengthText = document.getElementById('strengthText');
    const confirmPassword = document.getElementById('confirmPassword');
    const passwordError = document.getElementById('passwordError');
    const email = document.getElementById('email');
    const emailError = document.getElementById('emailError');

    password.addEventListener('input', () => {
      const val = password.value;
      let strength = 0;

      if (val.length >= 8) strength++;
      if (val.match(/[a-z]/) && val.match(/[A-Z]/)) strength++;
      if (val.match(/[0-9]/)) strength++;
      if (val.match(/[^a-zA-Z0-9]/)) strength++;

      strengthBar.className = 'password-strength-bar';
      if (strength <= 1) {
        strengthBar.classList.add('weak');
        strengthText.textContent = 'Сул нууц үг';
        strengthText.style.color = '#ff6b6b';
      } else if (strength <= 3) {
        strengthBar.classList.add('medium');
        strengthText.textContent = 'Дунд зэргийн нууц үг';
        strengthText.style.color = '#ffa500';
      } else {
        strengthBar.classList.add('strong');
        strengthText.textContent = 'Хүчтэй нууц үг';
        strengthText.style.color = '#10b981';
      }
    });

    // Email validation
    email.addEventListener('blur', () => {
      if (!Utils.isValidEmail(email.value)) {
        emailError.textContent = 'Зөв имэйл хаяг оруулна уу';
        emailError.style.display = 'block';
        email.classList.add('is-invalid');
      } else {
        emailError.style.display = 'none';
        email.classList.remove('is-invalid');
      }
    });

    // Password match validation
    confirmPassword.addEventListener('blur', () => {
      if (password.value !== confirmPassword.value) {
        passwordError.textContent = 'Нууц үг таарахгүй байна';
        passwordError.style.display = 'block';
        confirmPassword.classList.add('is-invalid');
      } else {
        passwordError.style.display = 'none';
        confirmPassword.classList.remove('is-invalid');
      }
    });

    // Form submission
    document.getElementById('registerForm').addEventListener('submit', (e) => {
      e.preventDefault();

      if (password.value !== confirmPassword.value) {
        Utils.showToast('Нууц үг таарахгүй байна', 'error');
        return;
      }

      Utils.showToast('Бүртгэл үүсгэж байна...', 'info');

      setTimeout(() => {
        Utils.showToast('Амжилттай бүртгэгдлээ!', 'success');
        setTimeout(() => {
          window.location.href = 'login.html';
        }, 1500);
      }, 1000);
    });
  </script>
</body>

</html>